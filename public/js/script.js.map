{"version":3,"file":"script.js","sources":["../../src/js/custom.js"],"sourcesContent":["/*!\r\n *  v1.0.1 (https://websweetstudio.com)\r\n * Copyright 2013-2023 Aditya K\r\n * Licensed under GPL (http://www.gnu.org/licenses/old-licenses/gpl-2.0.en.html)\r\n */\r\n(function (factory) {\r\n  typeof define === \"function\" && define.amd ? define(factory) : factory();\r\n})(function () {\r\n  \"use strict\";\r\n\r\n  jQuery(document).ready(function ($) {\r\n    $(\".change-parent\").on(\"change\", function () {\r\n      var selectedQuestion = $(this).data(\"question\");\r\n      var selectedValue = $(this).val();\r\n      if (selectedQuestion && selectedValue) {\r\n        // Find the element with the matching data-condition-key and data-condition-val\r\n\r\n        // Hide elements that do not match the selected key\r\n        $(\".wss-card\")\r\n          .filter(function () {\r\n            return (\r\n              parseInt($(this).data(\"condition-key\")) >=\r\n              parseInt(selectedQuestion)\r\n            );\r\n          })\r\n          .hide();\r\n\r\n        // Uncheck all radio buttons inside hidden elements\r\n        $(\".wss-card\")\r\n          .filter(function () {\r\n            return (\r\n              parseInt($(this).data(\"condition-key\")) >=\r\n              parseInt(selectedQuestion)\r\n            );\r\n          })\r\n          .find('input[type=\"radio\"]')\r\n          .prop(\"checked\", false);\r\n        $('.wss-card[data-condition-val=\"' + selectedValue + '\"]').show();\r\n      }\r\n    });\r\n    $(\".questionnaire-frame\").on(\"submit\", function (event) {\r\n      // Mencegah pengiriman formulir yang normal\r\n      event.preventDefault();\r\n      var $this = $(this);\r\n      $this\r\n        .find(\".wss-btn-submit span\")\r\n        .html(\r\n          '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-arrow-clockwise wss-loading wss-d-iline-block\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z\"/><path d=\"M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z\"/></svg>'\r\n        );\r\n\r\n      // Mengumpulkan data dari seluruh formulir\r\n      var formData = {};\r\n      $(\".questionnaire-frame\").each(function () {\r\n        var formId = $(this).data(\"id\");\r\n\r\n        // Menggunakan serializeArray untuk mengambil semua elemen formulir\r\n        var formElements = $(this).serializeArray();\r\n\r\n        // Menyusun data ke dalam objek\r\n        formData[formId] = {};\r\n        formData[formId][\"soal\"] = {};\r\n        formData[formId][\"jawaban\"] = {};\r\n        $.each(formElements, function (index, element) {\r\n          formData[formId][\"jawaban\"][element.name] = element.value;\r\n          formData[formId][\"soal\"][element.name] = $(\r\n            '[name=\"' + element.name + '\"]:first'\r\n          ).data(\"question-text\");\r\n        });\r\n        // console.log(formData);\r\n      });\r\n\r\n      // Menggunakan fungsi jQuery.post untuk melakukan AJAX request\r\n      $.post(\r\n        custom_plugin.ajaxurl,\r\n        {\r\n          action: \"update_hasil_questionnaire\",\r\n          formData: formData,\r\n        },\r\n        function (response) {\r\n          // console.log(response);\r\n          $this\r\n            .find(\".wss-btn-submit span\")\r\n            .html(\r\n              '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-cloud-upload wss-d-iline-block\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"M4.406 1.342A5.53 5.53 0 0 1 8 0c2.69 0 4.923 2 5.166 4.579C14.758 4.804 16 6.137 16 7.773 16 9.569 14.502 11 12.687 11H10a.5.5 0 0 1 0-1h2.688C13.979 10 15 8.988 15 7.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 2.825 10.328 1 8 1a4.53 4.53 0 0 0-2.941 1.1c-.757.652-1.153 1.438-1.153 2.055v.448l-.445.049C2.064 4.805 1 5.952 1 7.318 1 8.785 2.23 10 3.781 10H6a.5.5 0 0 1 0 1H3.781C1.708 11 0 9.366 0 7.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383z\"/><path fill-rule=\"evenodd\" d=\"M7.646 4.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V14.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3z\"/></svg>'\r\n            );\r\n          window.location.href = \"?page=for-you\";\r\n          // Lakukan tindakan atau manipulasi lainnya setelah respons dari server\r\n        }\r\n      );\r\n    });\r\n  });\r\n});\r\n"],"names":["factory","define","amd","jQuery","document","ready","$","on","selectedQuestion","data","selectedValue","val","filter","parseInt","hide","find","prop","show","event","preventDefault","$this","html","formData","each","formId","formElements","serializeArray","index","element","name","value","post","custom_plugin","ajaxurl","action","response","window","location","href"],"mappings":";;;;;;;;;;EAAA;EACA;EACA;EACA;EACA;EACA,CAAC,UAAUA,OAAO,EAAE;EAClB,EAAA,OAAOC,MAAM,KAAK,UAAU,IAAIA,MAAM,CAACC,GAAG,GAAGD,MAAM,CAACD,OAAO,CAAC,GAAGA,OAAO,EAAE,CAAA;EAC1E,CAAC,EAAE,YAAY;;IAGbG,MAAM,CAACC,QAAQ,CAAC,CAACC,KAAK,CAAC,UAAUC,CAAC,EAAE;MAClCA,CAAC,CAAC,gBAAgB,CAAC,CAACC,EAAE,CAAC,QAAQ,EAAE,YAAY;QAC3C,IAAIC,gBAAgB,GAAGF,CAAC,CAAC,IAAI,CAAC,CAACG,IAAI,CAAC,UAAU,CAAC,CAAA;QAC/C,IAAIC,aAAa,GAAGJ,CAAC,CAAC,IAAI,CAAC,CAACK,GAAG,EAAE,CAAA;QACjC,IAAIH,gBAAgB,IAAIE,aAAa,EAAE;EACrC;;EAEA;EACAJ,QAAAA,CAAC,CAAC,WAAW,CAAC,CACXM,MAAM,CAAC,YAAY;EAClB,UAAA,OACEC,QAAQ,CAACP,CAAC,CAAC,IAAI,CAAC,CAACG,IAAI,CAAC,eAAe,CAAC,CAAC,IACvCI,QAAQ,CAACL,gBAAgB,CAAC,CAAA;EAE9B,SAAC,CAAC,CACDM,IAAI,EAAE,CAAA;;EAET;EACAR,QAAAA,CAAC,CAAC,WAAW,CAAC,CACXM,MAAM,CAAC,YAAY;EAClB,UAAA,OACEC,QAAQ,CAACP,CAAC,CAAC,IAAI,CAAC,CAACG,IAAI,CAAC,eAAe,CAAC,CAAC,IACvCI,QAAQ,CAACL,gBAAgB,CAAC,CAAA;EAE9B,SAAC,CAAC,CACDO,IAAI,CAAC,qBAAqB,CAAC,CAC3BC,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC,CAAA;UACzBV,CAAC,CAAC,gCAAgC,GAAGI,aAAa,GAAG,IAAI,CAAC,CAACO,IAAI,EAAE,CAAA;EACnE,OAAA;EACF,KAAC,CAAC,CAAA;MACFX,CAAC,CAAC,sBAAsB,CAAC,CAACC,EAAE,CAAC,QAAQ,EAAE,UAAUW,KAAK,EAAE;EACtD;QACAA,KAAK,CAACC,cAAc,EAAE,CAAA;EACtB,MAAA,IAAIC,KAAK,GAAGd,CAAC,CAAC,IAAI,CAAC,CAAA;QACnBc,KAAK,CACFL,IAAI,CAAC,sBAAsB,CAAC,CAC5BM,IAAI,CACH,yXACF,CAAC,CAAA;;EAEH;QACA,IAAIC,QAAQ,GAAG,EAAE,CAAA;EACjBhB,MAAAA,CAAC,CAAC,sBAAsB,CAAC,CAACiB,IAAI,CAAC,YAAY;UACzC,IAAIC,MAAM,GAAGlB,CAAC,CAAC,IAAI,CAAC,CAACG,IAAI,CAAC,IAAI,CAAC,CAAA;;EAE/B;UACA,IAAIgB,YAAY,GAAGnB,CAAC,CAAC,IAAI,CAAC,CAACoB,cAAc,EAAE,CAAA;;EAE3C;EACAJ,QAAAA,QAAQ,CAACE,MAAM,CAAC,GAAG,EAAE,CAAA;UACrBF,QAAQ,CAACE,MAAM,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,CAAA;UAC7BF,QAAQ,CAACE,MAAM,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE,CAAA;UAChClB,CAAC,CAACiB,IAAI,CAACE,YAAY,EAAE,UAAUE,KAAK,EAAEC,OAAO,EAAE;EAC7CN,UAAAA,QAAQ,CAACE,MAAM,CAAC,CAAC,SAAS,CAAC,CAACI,OAAO,CAACC,IAAI,CAAC,GAAGD,OAAO,CAACE,KAAK,CAAA;YACzDR,QAAQ,CAACE,MAAM,CAAC,CAAC,MAAM,CAAC,CAACI,OAAO,CAACC,IAAI,CAAC,GAAGvB,CAAC,CACxC,SAAS,GAAGsB,OAAO,CAACC,IAAI,GAAG,UAC7B,CAAC,CAACpB,IAAI,CAAC,eAAe,CAAC,CAAA;EACzB,SAAC,CAAC,CAAA;EACF;EACF,OAAC,CAAC,CAAA;;EAEF;EACAH,MAAAA,CAAC,CAACyB,IAAI,CACJC,aAAa,CAACC,OAAO,EACrB;EACEC,QAAAA,MAAM,EAAE,4BAA4B;EACpCZ,QAAAA,QAAQ,EAAEA,QAAAA;SACX,EACD,UAAUa,QAAQ,EAAE;EAClB;UACAf,KAAK,CACFL,IAAI,CAAC,sBAAsB,CAAC,CAC5BM,IAAI,CACH,wzBACF,CAAC,CAAA;EACHe,QAAAA,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,eAAe,CAAA;EACtC;EACF,OACF,CAAC,CAAA;EACH,KAAC,CAAC,CAAA;EACJ,GAAC,CAAC,CAAA;EACJ,CAAC,CAAC;;;;;;"}